apiVersion: kustomize.toolkit.fluxcd.io/v1beta2
kind: Kustomization
metadata:
  name: kubernetes-dashboard
  namespace: flux-system
spec:
  # Wie oft Flux die Kustomization reconcilen soll
  interval: 1m

  # Pfad zu den Ressourcen (Namespace + HelmRepository + HelmRelease)
  # relativ zum Git-Repo-Root
  path: "../infrastructure/kubernetes-dashboard"

  # Alte Ressourcen im Namespace werden gelöscht, wenn sie nicht mehr im Git sind
  prune: true

  # Git-Repository Source, die Flux überwachen soll
  sourceRef:
    kind: GitRepository
    name: flux-system
